<!-- Created by Daniyar Zhalgas
    <daniyarzhalgas05@gmail.com> - SDU
     https://github.com/daniyarzhalgas/Color-Palette-Explorer -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Color Palette Explorer</title>   
        <link rel="shortcut icon" type="x-icon" href="imgs/logo.png">
        <link rel="stylesheet" href="picker/color.box.css">
        <link rel="stylesheet" href="style.css">
        <script src="picker/color.box.js"></script>
        <script src="js/ColorPicker.js"></script>
        <script src="js/shchange.js"></script>
        <script src="js/mixColors.js"></script>
        <script src="js/UrlSearchParams.js"></script>
   </head>
    <body>
        

        <div class="container">    
            <div class="colorjoe"></div>
            <div class="config">

                <input type="text" class="inPutColor" id="inputColor" placeholder="Enter a color"/>
                <button class="button-4" id="randomColorButton"role="button">Random Color</button>
                <div class="config-title">Selected Color</div>
                <div class="selected-color-text">#000000</div>
                <div class="selected-color" id="selected-color" style="opacity: 1;"></div>
                <div class="config-title">Shade Colors</div>
                <div class="shade-color1" ></div>
                <div class="shade-color2" ></div>
                <div class="shade-color3" ></div>
                <div class="shade-color4" ></div>
                <div class="shade-color5" ></div>
                <div class="containerSliders">
                    <div class="config-title">Opacity</div>
                    <div class="slider-cont">
                        <div class="slider">
                            <input type="range" id="sliderOpacity" min="0" max="100" value="100">
                            <progress id="progress"min="0" max="100" value="100"></progress>
                        </div>
                        <div class="sliderValue" id="sliderValue">100</div>
                    </div>  
                    <div class="config-title">Saturation</div>
                    <div class="slider-cont">
                        <div class="slider">
                            <input type="range" id="sliderSaturation" min="0" max="100" value="100">
                            <progress id="progressSaturation"min="0" max="100" value="100"></progress>
                        </div>
                        <div class="sliderValue" id="sliderValueSaturation">100</div>
                    </div> 
                    <div class="saved-colors" id="savedColors">
                        <div class="config-title">Combine Colors</div>
                        <div class="firstColor" id="fisrt-color"><p>First Color</p></div>
                        <div class="secondColor" id="second-color"><p>Second Color</p></div>
                    </div>
                    <button class="button-4" id="combineButton"role="button">Mix Colors</button>
                    <button class="button-4" id="shareButton"role="button">Share</button>
                </div>
            </div>
        </div>
        <script>
            const cp = new ColorPicker(document.querySelector(".container"));
            
            shareButton = document.getElementById('shareButton');
            shareButton.addEventListener('click' , event => {
                var selectedColor = document.querySelector(".selected-color-text").textContent;
                const shareUrl = window.location.href + '?color=' + selectedColor.split('#')[1]+ "&opacity="+ document.getElementById("sliderValue").textContent + "&saturation="+ document.getElementById("sliderValueSaturation").textContent;
                if(navigator.share){
                    navigator.share({
                        text: 'Look at what color I made :)',
                        url: shareUrl
                    }).then(() => {
                        console.log('link has been successfull created');
                    }).catch((err) => console.error(err));
                }else alert("The current browser does not support the share fuction. Please, manually share the link")
            });
        </script>
        
    </body>
</html>